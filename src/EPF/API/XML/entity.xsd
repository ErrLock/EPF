<?xml version="1.0"?>
<schema xmlns="http://www.w3.org/2001/XMLSchema"
	xmlns:entity="https://schemas.errlock.org/api/xml/entity"
	targetNamespace="https://schemas.errlock.org/api/xml/entity"
	elementFormDefault="qualified"
	attributeFormDefault="unqualified">
	
	<annotation>
		<documentation xml:lang="en">
			Data schema for EPF API data.
		</documentation>
	</annotation>
	
	<element name="entity" type="entity:entity" />
	
	<attributeGroup name="property">
		<attribute name="name" type="ID" use="required" />
	</attributeGroup>
	
	<simpleType name="media-type">
		<restriction base="string">
			<pattern value="[\p{L}\p{N}][\p{L}\p{N}!#$&amp;\-\^_\.\+]{0,126}/[\p{L}\p{N}][\p{L}\p{N}!#$&amp;\-\^_\.\+]{0,126}" />
		</restriction>
	</simpleType>
	
	<complexType name="entity">
		<choice maxOccurs="unbounded">
			<element name="string" type="entity:string" />
			<element name="resource" type="entity:resource" />
			<element name="entity" type="entity:entity_link" />
		</choice>
	</complexType>
	
	<complexType name="string">
		<simpleContent>
			<extension base="string">
				<attributeGroup ref="entity:property" />
			</extension>
		</simpleContent>
	</complexType>
	
	<complexType name="basic">
		<attributeGroup ref="entity:property" />
	</complexType>
	
	<complexType name="entity_link">
		<complexContent>
			<extension base="entity:basic">
				<attribute name="href" type="anyURI" use="required" />
			</extension>
		</complexContent>
	</complexType>
	
	<complexType name="resource">
		<complexContent>
			<extension base="entity:entity_link">
				<attribute name="type" type="entity:media-type" use="required" />
			</extension>
		</complexContent>
	</complexType>
</schema>
